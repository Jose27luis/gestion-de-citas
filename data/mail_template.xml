<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!-- Template: Confirmación de Cita -->
        <record id="mail_template_appointment_confirmation" model="mail.template">
            <field name="name">Hospital: Confirmación de Cita</field>
            <field name="model_id" ref="model_hospital_appointment"/>
            <field name="subject">Confirmación de Cita - Hospital Santa Rosa</field>
            <field name="email_from">${object.doctor_id.email or 'hospital@santarosa.com'}</field>
            <field name="email_to">${object.patient_id.email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
    <div style="background-color: #2c3e50; color: white; padding: 20px; text-align: center;">
        <h1>Hospital Santa Rosa</h1>
    </div>
    <div style="padding: 20px; background-color: #f9f9f9;">
        <h2 style="color: #2c3e50;">Confirmación de Cita Médica</h2>
        <p>Estimado(a) <strong>${object.patient_id.name}</strong>,</p>
        <p>Su cita médica ha sido confirmada con los siguientes detalles:</p>

        <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Número de Cita:</strong></td>
                <td style="padding: 10px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Doctor:</strong></td>
                <td style="padding: 10px;">${object.doctor_id.name}</td>
            </tr>
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Especialidad:</strong></td>
                <td style="padding: 10px;">${object.specialty_id.name}</td>
            </tr>
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Fecha y Hora:</strong></td>
                <td style="padding: 10px;">${format_datetime(object.appointment_date, dt_format='dd/MM/yyyy HH:mm')}</td>
            </tr>
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Consultorio:</strong></td>
                <td style="padding: 10px;">${object.doctor_id.consultation_room or 'Por confirmar'}</td>
            </tr>
        </table>

        <p><strong>Motivo:</strong> ${object.reason or 'No especificado'}</p>

        <div style="background-color: #3498db; color: white; padding: 15px; margin: 20px 0; border-radius: 5px;">
            <p style="margin: 0;"><strong>Importante:</strong> Por favor llegue 15 minutos antes de su cita.</p>
        </div>

        <p>Si necesita cancelar o reprogramar su cita, por favor contáctenos con anticipación.</p>

        <p>Atentamente,<br/>
        <strong>Hospital Santa Rosa</strong></p>
    </div>
</div>
            </field>
        </record>

        <!-- Template: Recordatorio 24 horas -->
        <record id="mail_template_appointment_reminder_24h" model="mail.template">
            <field name="name">Hospital: Recordatorio 24h antes</field>
            <field name="model_id" ref="model_hospital_appointment"/>
            <field name="subject">Recordatorio: Cita mañana - Hospital Santa Rosa</field>
            <field name="email_from">${object.doctor_id.email or 'hospital@santarosa.com'}</field>
            <field name="email_to">${object.patient_id.email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
    <div style="background-color: #27ae60; color: white; padding: 20px; text-align: center;">
        <h1>Hospital Santa Rosa</h1>
        <h2>Recordatorio de Cita</h2>
    </div>
    <div style="padding: 20px; background-color: #f9f9f9;">
        <p>Estimado(a) <strong>${object.patient_id.name}</strong>,</p>
        <p>Le recordamos que tiene una cita médica mañana:</p>

        <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Doctor:</strong></td>
                <td style="padding: 10px;">${object.doctor_id.name}</td>
            </tr>
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Fecha y Hora:</strong></td>
                <td style="padding: 10px;">${format_datetime(object.appointment_date, dt_format='dd/MM/yyyy HH:mm')}</td>
            </tr>
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Consultorio:</strong></td>
                <td style="padding: 10px;">${object.doctor_id.consultation_room or 'Por confirmar'}</td>
            </tr>
        </table>

        <p>Por favor llegue 15 minutos antes de su cita.</p>

        <p>Atentamente,<br/>
        <strong>Hospital Santa Rosa</strong></p>
    </div>
</div>
            </field>
        </record>

        <!-- Template: Recordatorio 2 horas -->
        <record id="mail_template_appointment_reminder_2h" model="mail.template">
            <field name="name">Hospital: Recordatorio 2h antes</field>
            <field name="model_id" ref="model_hospital_appointment"/>
            <field name="subject">Recordatorio: Cita en 2 horas - Hospital Santa Rosa</field>
            <field name="email_from">${object.doctor_id.email or 'hospital@santarosa.com'}</field>
            <field name="email_to">${object.patient_id.email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
    <div style="background-color: #e67e22; color: white; padding: 20px; text-align: center;">
        <h1>¡Su cita es en 2 horas!</h1>
    </div>
    <div style="padding: 20px; background-color: #f9f9f9;">
        <p>Estimado(a) <strong>${object.patient_id.name}</strong>,</p>
        <p>Le recordamos que tiene una cita médica en aproximadamente 2 horas:</p>

        <div style="background-color: #fff; border-left: 4px solid #e67e22; padding: 15px; margin: 20px 0;">
            <p style="margin: 5px 0;"><strong>Doctor:</strong> ${object.doctor_id.name}</p>
            <p style="margin: 5px 0;"><strong>Hora:</strong> ${format_datetime(object.appointment_date, dt_format='HH:mm')}</p>
            <p style="margin: 5px 0;"><strong>Consultorio:</strong> ${object.doctor_id.consultation_room or 'Por confirmar'}</p>
        </div>

        <p><strong>¡No olvide llegar 15 minutos antes!</strong></p>

        <p>Nos vemos pronto.</p>
    </div>
</div>
            </field>
        </record>

        <!-- Template: Receta Emitida -->
        <record id="mail_template_prescription_issued" model="mail.template">
            <field name="name">Hospital: Receta Emitida</field>
            <field name="model_id" ref="model_hospital_prescription"/>
            <field name="subject">Receta Médica Emitida - Hospital Santa Rosa</field>
            <field name="email_from">${object.doctor_id.email or 'hospital@santarosa.com'}</field>
            <field name="email_to">${object.patient_id.email}</field>
            <field name="body_html" type="html">
<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
    <div style="background-color: #2c3e50; color: white; padding: 20px; text-align: center;">
        <h1>Hospital Santa Rosa</h1>
        <h2>Receta Médica</h2>
    </div>
    <div style="padding: 20px; background-color: #f9f9f9;">
        <p>Estimado(a) <strong>${object.patient_id.name}</strong>,</p>
        <p>Se ha emitido una nueva receta médica a su nombre:</p>

        <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Número de Receta:</strong></td>
                <td style="padding: 10px;">${object.name}</td>
            </tr>
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Doctor:</strong></td>
                <td style="padding: 10px;">${object.doctor_id.name}</td>
            </tr>
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Fecha:</strong></td>
                <td style="padding: 10px;">${format_date(object.prescription_date, date_format='dd/MM/yyyy')}</td>
            </tr>
            <tr>
                <td style="padding: 10px; background-color: #ecf0f1;"><strong>Válida hasta:</strong></td>
                <td style="padding: 10px;">${format_date(object.expiry_date, date_format='dd/MM/yyyy')}</td>
            </tr>
        </table>

        <div style="background-color: #3498db; color: white; padding: 15px; margin: 20px 0; border-radius: 5px;">
            <p style="margin: 0;"><strong>Importante:</strong> Puede descargar su receta desde el portal de pacientes o recogerla en la farmacia del hospital.</p>
        </div>

        <p>Atentamente,<br/>
        <strong>Dr(a). ${object.doctor_id.name}</strong><br/>
        Hospital Santa Rosa</p>
    </div>
</div>
            </field>
        </record>

    </data>
</odoo>
